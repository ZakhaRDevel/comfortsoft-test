import{$a as mi,$b as ke,A as y,Aa as Xt,Ad as $e,B as ri,Ba as C,Bb as bi,Bd as Ni,Cd as je,D as Me,Da as it,F as si,G as Yt,Gc as ce,H as M,Ha as V,I as j,Ia as G,Ic as dt,J as gt,Ja as wt,K as Kt,Ka as ui,Kb as Ae,Kd as Bi,L as Pt,La as li,Ld as ue,M as st,Ma as ut,Mb as oe,Mc as H,Md as Zi,Na as xe,Nb as Ci,Nd as zi,O as d,Ob as Oi,Oc as ae,Pa as Bt,Pd as Wi,Q as ci,Qa as k,Qc as Ei,Qd as Ui,Ra as lt,S as o,Sa as qt,Sb as re,Sc as ze,Ta as Jt,Tc as zt,U as yt,Ua as di,Ub as Ti,Uc as S,V as Ie,Va as hi,Vc as Y,W as At,Wa as te,X as Dt,Xa as ee,Xb as Ct,Xc as Tt,Y as Rt,Ya as pi,Z as He,Za as fi,Zb as Re,Zc as xi,_ as Se,_b as nt,aa as b,ac as Le,c as A,ca as kt,cc as T,cd as Pi,da as Lt,db as m,dd as _t,e as L,ea as et,ec as _i,f as Et,fa as Nt,fb as ie,fc as Ot,fd as Wt,ga as R,gb as vi,gc as se,hb as gi,hd as Ai,ic as Ne,j as ni,jb as yi,jc as Mi,k as I,kc as x,la as ai,lb as bt,ld as Ri,m as N,mc as P,md as We,na as ct,nc as W,nd as Ut,o as u,oa as B,ob as Q,pa as Fe,pd as Mt,q as xt,qb as ne,qc as Zt,r as _e,rb as Di,rc as Ii,rd as Ue,s as _,sa as Ee,sb as Pe,sc as Hi,sd as It,ta as Z,tc as Si,td as ki,u as F,ub as wi,uc as Fi,ud as Ht,va as a,vc as h,wc as Be,x as oi,xa as z,xc as Ze,ya as at,z as vt,za as E,zd as Li}from"./chunk-HZJYWLAV.js";import{a as ft,b as mt,c as ii}from"./chunk-4CLCTAJ7.js";function Ve(e){return!!e&&(cn(e)||Ve(e.parentElement))}function cn(e){return e.ownerDocument.defaultView?.getComputedStyle(e).getPropertyValue("position")==="fixed"}function an(e,s){e&1&&ut(0)}function un(e,s){if(e&1){let t=xe();V(0,"div",5),k("mousedown.capture.prevent",function(){return He(t),Se(0)}),wt(1,"div",6),G()}if(e&2){let t=lt().ngIf,i=lt(2);it("t-bar_has-horizontal",t[1]),C("@tuiFadeIn",i.options)}}function ln(e,s){if(e&1){let t=xe();V(0,"div",7),k("mousedown.capture.prevent",function(){return He(t),Se(0)}),wt(1,"div",8),G()}if(e&2){let t=lt().ngIf,i=lt(2);it("t-bar_has-vertical",t[0]),C("@tuiFadeIn",i.options)}}function dn(e,s){if(e&1&&(ui(0),E(1,un,2,3,"div",3)(2,ln,2,3,"div",4),li()),e&2){let t=s.ngIf;B(),C("ngIf",t[0]),B(),C("ngIf",t[1])}}function hn(e,s){if(e&1&&(E(0,dn,3,2,"ng-container",2),vi(1,"async")),e&2){let t=lt();C("ngIf",gi(1,1,t.refresh$))}}var pn=["*"];function fn(e,s){if(e&1&&wt(0,"tui-scroll-controls",2),e&2){let t=lt();it("t-hover-mode",t.options.mode==="hover")}}var $i=(()=>{class e extends A{constructor(){super(t=>this.scroll$.subscribe(t)),this.el=h(),this.element=o(_t).nativeElement,this.scroll$=_(H(this.el.parentElement,"mousedown").pipe(F(({target:t})=>t!==this.el),u(t=>this.getScrolled(t,.5,.5))),H(this.el,"mousedown").pipe(zt(),j(t=>{let{ownerDocument:i}=this.el,n=this.el.getBoundingClientRect(),r=mn(t,n),c=vn(t,n);return H(i,"mousemove").pipe(u(l=>this.getScrolled(l,r,c)),gt(H(i,"mouseup")))})))}getScrolled({clientY:t,clientX:i},n,r){let{offsetHeight:c,offsetWidth:l}=this.el,{top:w,left:g,width:O,height:p}=this.el.parentElement.getBoundingClientRect(),f=this.element.scrollHeight-p,J=this.element.scrollWidth-O,tt=(t-w-c*n)/(p-c),rt=(i-g-l*r)/(O-l);return[f*tt,J*rt]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})();function mn({clientY:e},{top:s,height:t}){return(e-s)/t}function vn({clientX:e},{left:s,width:t}){return(e-s)/t}var le=24,gn=(()=>{class e{constructor(){this.el=o(_t).nativeElement,this.style=h().style,this.scrollSub=o($i).pipe(T()).subscribe(([t,i])=>{this.el.style.scrollBehavior="auto",this.tuiScrollbar==="horizontal"?this.el.scrollLeft=i:this.el.scrollTop=t,this.el.style.scrollBehavior=""}),this.styleSub=_(o(dt).pipe(st(100,Y())),Ei(this.el)).pipe(zt(),T()).subscribe(()=>{let t={scrollTop:this.el.scrollTop,scrollHeight:this.el.scrollHeight,clientHeight:this.el.clientHeight,scrollLeft:this.el.scrollLeft,scrollWidth:this.el.scrollWidth,clientWidth:this.el.clientWidth},i=`${this.getThumb(t)*100}%`,n=`${this.getView(t)*100}%`;this.tuiScrollbar==="vertical"?(this.style.top=i,this.style.height=n):(this.style.left=i,this.style.width=n)}),this.tuiScrollbar="vertical"}getScrolled(t){return this.tuiScrollbar==="vertical"?t.scrollTop/(t.scrollHeight-t.clientHeight):t.scrollLeft/(t.scrollWidth-t.clientWidth)}getCompensation(t){return t.clientHeight*t.clientHeight/t.scrollHeight>le&&this.tuiScrollbar==="vertical"||t.clientWidth*t.clientWidth/t.scrollWidth>le&&this.tuiScrollbar==="horizontal"?0:this.tuiScrollbar==="vertical"?le/t.clientHeight:le/t.clientWidth}getThumb(t){let i=this.getCompensation(t)||this.getView(t);return this.getScrolled(t)*(1-i)}getView(t){return this.tuiScrollbar==="vertical"?Math.ceil(t.clientHeight/t.scrollHeight*100)/100:Math.ceil(t.clientWidth/t.scrollWidth*100)/100}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:"tuiScrollbar"},features:[m([$i])]})}}return e})(),yn={mode:"always"},[ji,Io]=Ai(yn),Dn=(()=>{class e{constructor(){this.scrollRef=o(_t).nativeElement,this.nativeScrollbar=o(ji).mode==="native",this.options=Mt(o(Tt)),this.refresh$=o(dt).pipe(st(300,Y()),u(()=>this.scrollbars),M([!1,!1]),y((t,i)=>t[0]===i[0]&&t[1]===i[1]),S())}get scrollbars(){let{clientHeight:t,scrollHeight:i,clientWidth:n,scrollWidth:r}=this.scrollRef;return[Math.ceil(t/i*100)<100,Math.ceil(n/r*100)<100]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["tui-scroll-controls"]],decls:3,vars:2,consts:[["custom",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","t-bar t-bar_vertical",3,"t-bar_has-horizontal","mousedown.capture.prevent",4,"ngIf"],["class","t-bar t-bar_horizontal",3,"t-bar_has-vertical","mousedown.capture.prevent",4,"ngIf"],[1,"t-bar","t-bar_vertical",3,"mousedown.capture.prevent"],["tuiScrollbar","vertical",1,"t-thumb"],[1,"t-bar","t-bar_horizontal",3,"mousedown.capture.prevent"],["tuiScrollbar","horizontal",1,"t-thumb"]],template:function(i,n){if(i&1&&E(0,an,1,0,"ng-container",1)(1,hn,2,3,"ng-template",null,0,yi),i&2){let r=pi(2);C("ngIf",n.nativeScrollbar)("ngIfElse",r)}},dependencies:[wi,Pe,gn],styles:["[_nghost-%COMP%]{position:sticky;top:0;left:0;z-index:1;min-inline-size:calc(100% - 1px);min-block-size:calc(100% - 1px);max-inline-size:calc(100% - 1px);max-block-size:calc(100% - 1px);float:inline-start;margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto}.t-bar_vertical[_ngcontent-%COMP%]{top:0;inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;block-size:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;inline-size:.75rem;min-block-size:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;block-size:.75rem;min-inline-size:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{block-size:.875rem}"],data:{animation:[oe]},changeDetection:0})}}return e})();var wn="tui-scrollable",Vi=(()=>{class e{constructor(){this.el=h(),this.options=o(ji),this.isIOS=o(Zi),this.browserScrollRef=new Nt(this.el),this.hidden=this.options.mode==="hidden"}get delegated(){return this.scrollRef!==this.el||this.options.mode==="native"}get scrollRef(){return this.browserScrollRef.nativeElement}set scrollRef(t){this.browserScrollRef.nativeElement=t}scrollIntoView(t){if(this.delegated)return;let{offsetHeight:i,offsetWidth:n}=t,{offsetTop:r,offsetLeft:c}=Fi(this.scrollRef,t),l=r+i/2-this.scrollRef.clientHeight/2,w=c+n/2-this.scrollRef.clientWidth/2;this.scrollRef.scrollTo?.(w,l)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(i,n){i&1&&k("tui-scrollable.stop",function(c){return n.scrollRef=c.detail})("tui-scroll-into-view.stop",function(c){return n.scrollIntoView(c.detail)}),i&2&&it("_native-hidden",n.options.mode!=="native"&&(!n.isIOS||n.hidden))},inputs:{hidden:"hidden"},features:[m([{provide:_t,useFactory:()=>o(e).browserScrollRef}])],ngContentSelectors:pn,decls:3,vars:3,consts:[["class","t-bars",3,"t-hover-mode",4,"ngIf"],[1,"t-content"],[1,"t-bars"]],template:function(i,n){i&1&&(qt(),E(0,fn,1,2,"tui-scroll-controls",0),V(1,"div",1),Jt(2),G()),i&2&&(C("ngIf",!n.hidden&&!n.isIOS&&n.options.mode!=="native"),B(),it("t-content_delegated",n.delegated))},dependencies:[Pe,Dn],styles:["[_nghost-%COMP%]{position:relative;display:flex;max-block-size:100%;isolation:isolate;overflow:auto}._native-hidden[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}._native-hidden[_nghost-%COMP%]::-webkit-scrollbar, ._native-hidden[_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]   .t-hover-mode[_ngcontent-%COMP%]:not(:active){transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[_nghost-%COMP%]:hover   .t-hover-mode[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:1}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;inline-size:100%;block-size:-webkit-max-content;block-size:max-content}.t-content_delegated[_ngcontent-%COMP%]{block-size:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0})}}return e})();var Ho=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiScrollRef",""]],features:[m([x(_t,Nt)])]})}}return e})(),So=(()=>{class e{constructor(){this.el=h()}ngOnInit(){this.el.dispatchEvent(new CustomEvent(wn,{bubbles:!0,detail:this.el}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiScrollable",""]]})}}return e})();var Ge=class extends CustomEvent{constructor(s,r){var c=r,{clientX:t,clientY:i}=c,n=ii(c,["clientX","clientY"]);super(s,mt(ft({},n),{detail:{clientX:t,clientY:i}}))}},bn=({userAgent:e,maxTouchPoints:s})=>/ipad|iphone|ipod/i.test(e)||/^((?!chrome|android).)*safari/i.test(e)&&s>1,Cn=700,Gi=typeof navigator>"u"?null:navigator,On=15,Qe=class{constructor(){this.isIOS=!!Gi&&bn(Gi)}addEventListener(s,t,i){let n=this.isIOS?this.listenTouchEvents(s):this.listenContextmenuEvent(s);return s.addEventListener("longtap",i),()=>{n(),s.removeEventListener("longtap",i)}}supports(s){return s==="longtap"}listenContextmenuEvent(s){return this.manager.addEventListener(s,"contextmenu.prevent.stop",({clientX:t,clientY:i})=>{this.dispatchLongtapEvent(s,t,i)})}listenTouchEvents(s){let t=null,i=null,n=()=>{clearTimeout(t),i=null,t=null},r=this.manager.addEventListener(s,"touchstart.zoneless.passive",({touches:g})=>{let O=g[0];if(!O)return;let{clientX:p,clientY:f}=O;i={clientX:p,clientY:f},t=setTimeout(()=>{this.dispatchLongtapEvent(s,p,f),n()},Cn)}),c=this.manager.addEventListener(s,"touchmove.zoneless.passive",({touches:g})=>{let O=g[0];if(!O||!i)return;let{clientX:p,clientY:f}=O;Math.hypot(p-i.clientX,f-i.clientY)<=On||n()}),l=this.manager.addEventListener(s,"touchcancel.zoneless.passive",n),w=this.manager.addEventListener(s,"touchend.zoneless.passive",n);return()=>{r(),c(),l(),w()}}dispatchLongtapEvent(s,t,i){s.dispatchEvent(new Ge("longtap",{clientX:t,clientY:i,bubbles:!1,cancelable:!1,composed:!1}))}},X=class{supports(s){return s.includes(this.modifier)}unwrap(s){return s.split(".").filter(t=>!this.modifier.includes(t)).join(".")}},Tn=new ci("",{factory:()=>{let e=o(ne);return s=>s==="body"?e.body:e.defaultView[s]||e.createElement("div")}}),_n=(()=>{class e extends X{constructor(){super(...arguments),this.handler=o(Tn),this.modifier=">"}addEventListener(t,i,n){return this.manager.addEventListener(this.handler(i.split(">")[0]),i.split(">")?.[1]??"",n)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),Mn=(()=>{class e extends X{constructor(){super(...arguments),this.modifier="capture.once.passive"}supports(t){return t.includes(".")&&!this.unwrap(t).includes(".")}addEventListener(t,i,n){let r=this.unwrap(i),c=i.includes(".capture");return t.addEventListener(r,n,{capture:c,once:i.includes(".once"),passive:i.includes(".passive")}),()=>t.removeEventListener(r,n,{capture:c})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),In=(()=>{class e extends X{constructor(){super(...arguments),this.modifier=".prevent"}addEventListener(t,i,n){return this.manager.addEventListener(t,this.unwrap(i),r=>{r.preventDefault(),n(r)})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),Hn=(()=>{class e extends X{constructor(){super(...arguments),this.modifier="resize"}supports(t){return t==="resize"}addEventListener(t,i,n){if(typeof ResizeObserver>"u"||!(t instanceof Element))return t.addEventListener(i,n),()=>t.removeEventListener(i,n);let r=new ResizeObserver(n);return r.observe(t),()=>r.disconnect()}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),Sn=(()=>{class e extends X{constructor(){super(...arguments),this.modifier=".self"}addEventListener(t,i,n){return this.manager.addEventListener(t,this.unwrap(i),r=>{r.target===r.currentTarget&&n(r)})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),de=(()=>{class e extends X{constructor(){super(...arguments),this.modifier=".silent"}addEventListener(t,i,n){return e.ngZone=this.manager.getZone(),e.ngZone.runOutsideAngular(()=>this.manager.addEventListener(t,this.unwrap(i),n))}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),Fn=(()=>{class e extends X{constructor(){super(...arguments),this.modifier=".stop"}addEventListener(t,i,n){return this.manager.addEventListener(t,this.unwrap(i),r=>{r.stopPropagation(),n(r)})}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),En=(()=>{class e extends de{constructor(){super(...arguments),this.modifier=".zoneless"}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),xn=[de,En,_n,Mn,In,Hn,Sn,Fn,Qe],Ro=xn.map(e=>({provide:bi,multi:!0,useClass:e}));function Qi(e){return(s,t,i)=>{let{value:n}=i;i.value=function(...r){e.apply(this,r)&&(de.ngZone?de.ngZone.run(()=>n.apply(this,r)):n.apply(this,r))}}}var Pn=["viewContainer"],Ye=class{};var Yi={self:!0,optional:!0},Ko=(()=>{class e{constructor(){this.fallback=o(Wi,Yi),this.refresh$=new L,this.pseudoInvalid=R(null),this.internal=R(this.fallback),this.control=o(re,{self:!0}),this.cdr=o(bt),this.transformer=o(Ye,Yi),this.value=Q(()=>this.internal()??this.fallback),this.readOnly=R(!1),this.touched=R(!1),this.status=R(void 0),this.disabled=Q(()=>this.status()==="DISABLED"),this.interactive=Q(()=>!this.disabled()&&!this.readOnly()),this.invalid=Q(()=>this.pseudoInvalid()!==null?!!this.pseudoInvalid()&&this.interactive():this.interactive()&&this.touched()&&this.status()==="INVALID"),this.mode=Q(()=>this.readOnly()?"readonly":this.invalid()?"invalid":"valid"),this.onTouched=Re,this.onChange=Re,this.control.valueAccessor=this,this.refresh$.pipe(vt(0),M(null),u(()=>this.control.control),F(Boolean),y(),j(t=>_(t.valueChanges,t.statusChanges,t.events||ni).pipe(M(null))),T()).subscribe(()=>this.update())}set readOnlySetter(t){this.readOnly.set(t)}set invalidSetter(t){this.pseudoInvalid.set(t)}registerOnChange(t){this.refresh$.next(),this.onChange=i=>{i!==this.internal()&&(t(this.toControlValue(i)),this.internal.set(i),this.update())}}registerOnTouched(t){this.onTouched=()=>{t(),this.update()}}setDisabledState(){this.update()}writeValue(t){let i=this.control instanceof Ti?this.control.model:t;this.internal.set(this.fromControlValue(i)),this.update()}fromControlValue(t){return this.transformer?this.transformer.fromControlValue(t):t}toControlValue(t){return this.transformer?this.transformer.toControlValue(t):t}update(){this.status.set(this.control.control?.status),this.touched.set(!!this.control.control?.touched),this.cdr.markForCheck()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,inputs:{readOnlySetter:[0,"readOnly","readOnlySetter"],invalidSetter:[0,"invalid","invalidSetter"]},standalone:!1})}}return I([P],e.prototype,"fromControlValue",null),I([P],e.prototype,"toControlValue",null),e})();var Ki=(()=>{class e{constructor(){this.injector=o(Dt),this.nothing=o(he).attach(this)}addComponentChild(t){let i=t.createInjector(this.injector),n=this.vcr.createComponent(t.component,{injector:i});return n.changeDetectorRef.detectChanges(),n}addTemplateChild(t,i){return this.vcr.createEmbeddedView(t,i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,viewQuery:function(i,n){if(i&1&&hi(Pn,5,Ee),i&2){let r;te(r=ee())&&(n.vcr=r.first)}},standalone:!1})}}return e})(),he=(()=>{class e{attach(t){this.host=t}add(t){return this.safeHost.addComponentChild(t)}remove({hostView:t}){this.removeTemplate(t)}addTemplate(t,i){return this.safeHost.addTemplateChild(t,i)}removeTemplate(t){t.destroyed||t.destroy()}get safeHost(){if(!this.host)throw new Ke;return this.host}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})();function Xi(e){return x(he,e)}var Ke=class extends Error{constructor(){super("")}};var U=(()=>{class e{constructor(){this.control=o(re,{self:!0,optional:!0}),this.active$=o(Bi),this.zone=o(et),this.el=h(),this.tuiActiveZoneParent=null,this.subActiveZones=[],this.directParentActiveZone=o(e,{skipSelf:!0,optional:!0}),this.tuiActiveZoneChange=this.active$.pipe(u(t=>!!t&&this.contains(t)),M(!1),y(),Yt(1),Pt(t=>{!t&&typeof this.control?.valueAccessor.onTouched=="function"&&this.control.valueAccessor.onTouched()}),S(this.zone)),this.directParentActiveZone?.addSubActiveZone(this)}set tuiActiveZoneParentSetter(t){this.setZone(t)}ngOnDestroy(){this.directParentActiveZone?.removeSubActiveZone(this),this.tuiActiveZoneParent?.removeSubActiveZone(this)}contains(t){return this.el.contains(t)||this.subActiveZones.some((i,n,r)=>r.indexOf(i)===n&&i.contains(t))}setZone(t){this.tuiActiveZoneParent?.removeSubActiveZone(this),t?.addSubActiveZone(this),this.tuiActiveZoneParent=t}addSubActiveZone(t){this.subActiveZones=[...this.subActiveZones,t]}removeSubActiveZone(t){this.subActiveZones=_i(this.subActiveZones,this.subActiveZones.indexOf(t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiActiveZone","",5,"ng-container"],["","tuiActiveZoneChange","",5,"ng-container"],["","tuiActiveZoneParent","",5,"ng-container"]],hostBindings:function(i,n){i&1&&k("mousedown.zoneless",function(){return 0},!1,ct)},inputs:{tuiActiveZoneParentSetter:[0,"tuiActiveZoneParent","tuiActiveZoneParentSetter"]},outputs:{tuiActiveZoneChange:"tuiActiveZoneChange"},exportAs:["tuiActiveZone"]})}}return I([P],e.prototype,"setZone",null),e})();var pe=class{},q=class extends pe{},$=class extends pe{};function qi(e,s,t){return{provide:e,deps:[[new At,new yt,e],t],useFactory:$t(s)}}function $t(e){return(s,t)=>s?.find?.(i=>i!==t&&i.type===e)||t}function me(e,s){return qi(q,e,s)}function ve(e,s){return qi($,e,s)}function jt(e){return x($,e,!0)}var fe=class{};function ge(e){return x(fe,e,!0)}var ot=class extends A{};function St(e){return x(ot,e,!0)}var ye=(()=>{class e{constructor(){this.destroyRef=o(kt),this.drivers=o(ot,{self:!0,optional:!0})||[],this.vehicles=o(fe,{self:!0,optional:!0})}ngAfterViewInit(){let t=this.vehicles?.find(({type:i})=>i===this.type);_(...this.drivers.filter(({type:i})=>i===this.type)).pipe(y(),T(this.destroyRef)).subscribe(i=>{t?.toggle(i)})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,standalone:!1})}}return e})();var _r=(()=>{class e extends A{constructor(){super(t=>this.stream$.subscribe(t)),this.media=o(Pi),this.sorted=Object.values(this.media).sort((t,i)=>t-i),this.invert=Object.keys(this.media).reduce((t,i)=>mt(ft({},t),{[this.media[i]]:i}),{}),this.stream$=o(Ui).pipe(u(({width:t})=>this.sorted.find(i=>i>t)),u(t=>this.invert[t||this.sorted[this.sorted.length-1]||0]??null),y(),S(),si({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ft=(()=>{class e extends A{constructor(){let t=o(dt),i=o(et);super(n=>t.pipe(M(null),u(()=>this.accessor.getPosition(this.el.getBoundingClientRect(),this.el)),zt(i),ri(()=>this.accessor.getPosition(nt))).subscribe(n)),this.el=h(),this.accessor=o(q)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),De=(()=>{class e{constructor(){this.isWebkit=o(zi),this.win=o(ce)}correct(t){return this.isWebkit?[t[0]+(this.win.visualViewport?.offsetTop??0),t[1]+(this.win.visualViewport?.offsetLeft??0)]:t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ji=(()=>{class e extends A{constructor(){super(t=>this.obscured$.subscribe(t)),this.el=h(),this.obscured$=o(dt).pipe(st(100,Y()),u(()=>Si(this.el)),M(null),y(),S())}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),we=(()=>{class e{constructor(){this.activeZone=o(U,{optional:!0}),this.enabled$=new L,this.obscured$=o(Ji,{self:!0}).pipe(u(t=>!!t?.every(i=>!this.activeZone?.contains(i)))),this.tuiObscured=this.enabled$.pipe(ae(()=>this.obscured$))}set tuiObscuredEnabled(t){this.enabled$.next(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiObscured",""]],inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},features:[m([Ji])]})}}return e})();var kn=e=>({$implicit:e});function Ln(e,s){if(e&1&&(V(0,"div",2),fi(1),G()),e&2){let t=s.polymorpheusOutlet;B(),mi(" ",t," ")}}var Nn=["tuiDropdownHost"],Xe=(()=>{class e extends Et{constructor(){super(!1),this.type="dropdown"}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})(),Bn=(()=>{class e extends ye{constructor(){super(...arguments),this.type="dropdown"}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275dir=a({type:e,features:[z]})}}return e})(),Zn=se(()=>$n),zn=Ot(),tn=(()=>{class e extends he{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Je={align:"left",direction:null,limitWidth:"auto",maxHeight:400,minHeight:80,offset:4,appearance:""},ht=Ot(Je),Wn=e=>({provide:ht,deps:[[new yt,new Ie,Un],[new yt,new At,ht]],useFactory:Ut(e,Je)}),Un=(()=>{class e{constructor(){this.options=o(ht,{skipSelf:!0}),this.align=this.options.align,this.appearance=this.options.appearance,this.direction=this.options.direction,this.limitWidth=this.options.limitWidth,this.minHeight=this.options.minHeight,this.maxHeight=this.options.maxHeight,this.offset=this.options.offset}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiDropdownAlign",""],["","tuiDropdownAppearance",""],["","tuiDropdownDirection",""],["","tuiDropdownLimitWidth",""],["","tuiDropdownMinHeight",""],["","tuiDropdownMaxHeight",""],["","tuiDropdownOffset",""]],inputs:{align:[0,"tuiDropdownAlign","align"],appearance:[0,"tuiDropdownAppearance","appearance"],direction:[0,"tuiDropdownDirection","direction"],limitWidth:[0,"tuiDropdownLimitWidth","limitWidth"],minHeight:[0,"tuiDropdownMinHeight","minHeight"],maxHeight:[0,"tuiDropdownMaxHeight","maxHeight"],offset:[0,"tuiDropdownOffset","offset"]},features:[m([x(ht,e)])]})}}return e})(),en=(()=>{class e extends q{constructor(){super(...arguments),this.options=o(ht),this.viewport=o(Wt),this.directionChange=new Lt,this.type="dropdown",this.accessor=$t("dropdown")(o($),o(Vt,{optional:!0}))}emitDirection(t){this.directionChange.emit(t)}getPosition({width:t,height:i}){!t&&!i&&(this.previous=void 0);let n=this.accessor?.getClientRect()??nt,r=this.viewport.getClientRect(),{minHeight:c,align:l,direction:w,offset:g,limitWidth:O}=this.options,p={top:r.top-g,bottom:r.bottom+g,right:r.right-g,left:r.left+g},f=this.previous||w||"bottom",J={top:n.top-2*g-p.top,bottom:p.bottom-n.bottom-2*g},tt=O==="fixed"?n.width:t,rt=Math.max(n.right-tt,g),ei=n.left+t<p.right?n.left:rt,pt={top:n.top-g-i,bottom:n.bottom+g,right:Math.max(p.left,rt),center:n.left+n.width/2+t/2<p.right?n.left+n.width/2-t/2:rt,left:Math.max(p.left,ei)},Te=J.top>J.bottom?"top":"bottom";return J[f]>c&&w||J[f]>i?(this.emitDirection(f),[pt[f],pt[l]]):(this.previous=Te,this.emitDirection(Te),[pt[Te],pt[l]])}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275dir=a({type:e,outputs:{directionChange:"tuiDropdownDirectionChange"},features:[z]})}}return I([P],e.prototype,"emitDirection",null),e})(),Vt=(()=>{class e{constructor(){this.refresh$=new L,this.service=o(tn),this.cdr=o(bt),this.sub=this.refresh$.pipe(st(0,Y()),T()).subscribe(()=>{this.ref()?.changeDetectorRef.detectChanges(),this.ref()?.changeDetectorRef.markForCheck()}),this.el=h(),this.type="dropdown",this.component=new It(o(Zn),o(Dt)),this.ref=R(null)}set tuiDropdown(t){this.content=t instanceof Fe?new ki(t,this.cdr):t}get position(){return Ve(this.el)?"fixed":"absolute"}ngAfterViewChecked(){this.refresh$.next()}ngOnChanges(){this.content||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(t){let i=this.ref();t&&this.content&&!i?this.ref.set(this.service.add(this.component)):!t&&i&&(this.ref.set(null),this.service.remove(i))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiDropdown","",5,"ng-container",5,"ng-template"]],inputs:{tuiDropdown:"tuiDropdown"},exportAs:["tuiDropdown"],features:[m([jt(e),ge(e)]),at([Bn,{directive:en,outputs:["tuiDropdownDirectionChange","tuiDropdownDirectionChange"]}]),Rt]})}}return I([P],e.prototype,"position",null),e})(),$n=(()=>{class e{constructor(){this.el=h(),this.accessor=o($),this.win=o(ce),this.vvs=o(De),this.animation=Mt(o(Tt)),this.options=o(ht),this.directive=o(Vt),this.context=o(zn,{optional:!0}),this.darkMode=o(xi),this.theme=Q(()=>(this.darkMode(),this.directive.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"))),this.sub=o(Ft).pipe(Kt(()=>this.directive.el.isConnected&&!!this.directive.el.getBoundingClientRect().height),u(t=>this.directive.position==="fixed"?this.vvs.correct(t):t),u(([t,i])=>this.getStyles(t,i)),T()).subscribe({next:t=>Object.assign(this.el.style,t),complete:()=>this.close?.()}),this.close=()=>this.directive.toggle(!1)}getStyles(t,i){let{right:n}=this.el.getBoundingClientRect(),{maxHeight:r,minHeight:c,offset:l,limitWidth:w}=this.options,{innerHeight:g}=this.win,O=this.el.offsetParent?.getBoundingClientRect(),{position:p}=this.directive,f=this.accessor.getClientRect(),J=p==="fixed"?0:-(O?.left||0),tt=p==="fixed"?0:-(O?.top||0);t+=tt,i+=J;let rt=n<=f.left||i>=f.right,pt=i<f.right&&n>f.left&&t<tt+2*l?f.top-2*l:tt+g-t-l;return{position:p,top:W(Math.round(Math.max(t,tt+l))),left:W(Math.round(i)),maxHeight:rt?W(r):W(Math.round(Ct(pt,c,r))),width:w==="fixed"?W(Math.round(f.width)):"",minWidth:w==="min"?W(Math.round(f.width)):""}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["tui-dropdown"]],hostVars:3,hostBindings:function(i,n){i&2&&(Bt("@tuiDropdownAnimation",n.animation),Xt("data-appearance",n.options.appearance)("tuiTheme",n.theme()))},features:[m([Ft,me("dropdown",en),ve("dropdown",Vt)]),at([U])],decls:2,vars:4,consts:[[1,"t-scroll"],["class","t-primitive",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive"]],template:function(i,n){i&1&&(V(0,"tui-scrollbar",0),E(1,Ln,2,1,"div",1),G()),i&2&&(B(),C("polymorpheusOutlet",n.directive.content)("polymorpheusOutletContext",ie(2,kn,n.close)))},dependencies:[Ht,Vi],styles:["[_nghost-%COMP%]{position:absolute;display:flex;box-shadow:var(--tui-shadow-medium);color:var(--tui-text-primary);background:var(--tui-background-elevation-3);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-border-normal);box-sizing:border-box;max-inline-size:calc(100% - 8px);isolation:isolate;pointer-events:auto}.ng-animating[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}.t-scroll[_ngcontent-%COMP%]{flex-grow:1;max-inline-size:100%;inline-size:-webkit-max-content;inline-size:max-content;overscroll-behavior:none}.t-primitive[_ngcontent-%COMP%]{padding:1rem}"],data:{animation:[Ci]}})}}return e})();var jn={showDelay:200,hideDelay:500},Hs=Ot(jn);function Vn(e){return"key"in e&&e.key.toLowerCase()==="escape"&&this.tuiDropdownEnabled&&!!this.tuiDropdownOpen&&!this.dropdown()?.nextElementSibling}var qe=(()=>{class e{constructor(){this.directive=o(Vt),this.el=h(),this.obscured=o(we),this.dropdown=Q(()=>this.directive.ref()?.location.nativeElement),this.sub=_(this.obscured.tuiObscured.pipe(F(Boolean)),o(U).tuiActiveZoneChange.pipe(F(t=>!t)),xt(this.el,"focusin").pipe(u(Hi),F(t=>!this.host.contains(t)||!this.directive.ref()))).pipe(ze(),T()).subscribe(()=>this.toggle(!1)),this.tuiDropdownEnabled=!0,this.tuiDropdownOpen=!1,this.tuiDropdownOpenChange=new Lt,this.driver=o(Xe)}ngOnChanges(){this.update(!!this.tuiDropdownOpen)}toggle(t){this.focused&&!t&&this.host.focus({preventScroll:!0}),this.update(t)}onEsc(t){t.preventDefault(),this.toggle(!1)}onClick(t){!this.editable&&this.host.contains(t)&&this.update(!this.tuiDropdownOpen)}onArrow(t,i){!Zt(t.target)||!this.host.contains(t.target)||!this.tuiDropdownEnabled||(t.preventDefault(),this.focusDropdown(i))}onKeydown({key:t,target:i,defaultPrevented:n}){!n&&Ri(t)&&this.editable&&this.focused&&Ii(i)&&!Be(i)&&this.host.focus({preventScroll:!0})}get host(){let t=this.dropdownHost?.nativeElement||this.el,i=Li(t)?t:$e({initial:t,root:this.el});return this.dropdownHost?.nativeElement||i||this.el}get editable(){return Be(this.host)}get focused(){return je(this.host)||je(this.dropdown())}update(t){if(t&&!this.tuiDropdownEnabled)return this.drive();this.tuiDropdownOpen=t,this.tuiDropdownOpenChange.emit(t),this.drive()}drive(t=!!this.tuiDropdownOpen&&this.tuiDropdownEnabled){this.obscured.tuiObscuredEnabled=t,this.driver.next(t)}focusDropdown(t){let i=this.dropdown();if(!i){this.update(!0);return}let n=this.el.ownerDocument,r=i.appendChild(n.createElement("div")),l=$e({initial:t?r:i,previous:t,root:i});r.remove(),l?.focus()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiDropdown","","tuiDropdownOpen",""],["","tuiDropdown","","tuiDropdownOpenChange",""]],contentQueries:function(i,n,r){if(i&1&&di(r,Nn,5,Nt),i&2){let c;te(c=ee())&&(n.dropdownHost=c.first)}},hostBindings:function(i,n){i&1&&k("click",function(c){return n.onClick(c.target)})("keydown.arrowDown",function(c){return n.onArrow(c,!1)})("keydown.arrowUp",function(c){return n.onArrow(c,!0)})("keydown.zoneless.capture",function(c){return n.onEsc(c)},!1,ct)("keydown.zoneless",function(c){return n.onKeydown(c)},!1,ct)},inputs:{tuiDropdownEnabled:"tuiDropdownEnabled",tuiDropdownOpen:"tuiDropdownOpen"},outputs:{tuiDropdownOpenChange:"tuiDropdownOpenChange"},features:[m([Xe,St(Xe)]),at([we,{directive:U,inputs:["tuiActiveZoneParent","tuiActiveZoneParent"],outputs:["tuiActiveZoneChange","tuiActiveZoneChange"]}]),Rt]})}}return I([Qi(Vn)],e.prototype,"onEsc",null),e})();var Ss=(()=>{class e{constructor(){this.openStateSub=new L,this.tuiDropdownOpenChange=this.openStateSub.pipe(y())}set tuiDropdownOpen(t){this.emitOpenChange(t)}emitOpenChange(t){this.openStateSub.next(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiDropdownOpen","",3,"tuiDropdown",""],["","tuiDropdownOpenChange","",3,"tuiDropdown",""]],inputs:{tuiDropdownOpen:"tuiDropdownOpen"},outputs:{tuiDropdownOpenChange:"tuiDropdownOpenChange"}})}}return e})();function Fs(e){return Ne(Vt,"tuiDropdown",e,{})}function Es(){let e=Ne(qe,"tuiDropdownOpen",!1,{});return o(qe).tuiDropdownOpenChange.pipe(T()).subscribe(s=>e.set(s)),e}var xs=(()=>{class e{constructor(){Ut({limitWidth:"fixed"},Je)(o(ht,{self:!0,optional:!0}),null)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,features:[m([Wn({})])]})}}return e})(),Ps=(()=>{class e extends Ki{static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275cmp=Z({type:e,selectors:[["tui-dropdowns"]],features:[m([Xi(tn)]),z],decls:2,vars:0,consts:[["viewContainer",""]],template:function(i,n){i&1&&ut(0,null,0)},encapsulation:2,changeDetection:0})}}return e})(),As=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,features:[at([{directive:qe,inputs:["tuiDropdownOpen","open","tuiDropdownEnabled","tuiDropdownEnabled"],outputs:["tuiDropdownOpenChange","openChange"]}])]})}}return e})();function Gn({currentTarget:e,relatedTarget:s}){return!Zt(s)||!Zt(e)||!e.contains(s)}var Gt=(()=>{class e extends A{constructor(){super(t=>this.stream$.subscribe(t)),this.el=h(),this.zone=o(et),this.stream$=_(H(this.el,"mouseenter").pipe(u(Le)),H(this.el,"mouseleave").pipe(u(ke)),H(this.el,"mouseout").pipe(F(Gn),u(ke))).pipe(y(),S(this.zone))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac})}}return e})();function Qn(e,s){e&1&&ut(0)}var Yn=["*"];function Kn(e,s){if(e&1&&wt(0,"span",1),e&2){let t=s.polymorpheusOutlet;C("innerHTML",t,ai)}}var Xn=e=>({$implicit:e});function qn(e,s){e&1&&ut(0)}function Jn(e,s){if(e&1&&(V(0,"div",1),E(1,qn,1,0,"ng-container",2),G()),e&2){let t=s.$implicit;C("@tuiParentAnimation",void 0)("tuiActiveZoneParent",t.activeZone||null),B(),C("polymorpheusOutlet",t.component)("polymorpheusOutletContext",ie(4,Xn,t))}}var to=se(()=>so),on=(()=>{class e extends Et{constructor(){super([])}add(t){this.next(this.value.concat(t))}remove(t){this.value.includes(t)&&this.next(this.value.filter(i=>i!==t))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eo=(()=>{class e extends ye{constructor(){super(...arguments),this.type="hint"}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275dir=a({type:e,features:[z]})}}return e})(),nn=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],io={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},Qt=Ot(io);var yc=(()=>{class e{constructor(){this.options=o(Qt,{skipSelf:!0}),this.direction=this.options.direction,this.appearance=this.options.appearance,this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.icon=this.options.icon,this.change$=new L}ngOnChanges(){this.change$.next()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},features:[m([x(Qt,e)]),Rt]})}}return e})(),ti=(()=>{class e extends ot{constructor(){super(t=>this.stream$.subscribe(t)),this.isMobile=o(ue),this.el=h(),this.hovered$=o(Gt),this.options=o(Qt),this.visible=!1,this.toggle$=new L,this.stream$=_(this.toggle$.pipe(j(t=>this.isMobile?N(t):N(t).pipe(vt(t?0:this.tuiHintHideDelay))),gt(this.hovered$),Me()),this.hovered$.pipe(j(t=>this.isMobile?N(t):N(t).pipe(vt(t?this.tuiHintShowDelay:this.tuiHintHideDelay))),gt(this.toggle$),Me())).pipe(F(()=>this.enabled),u(t=>t&&(this.el.hasAttribute("tuiHintPointer")||!We(this.el))),Pt(t=>{this.visible=t})),this.parent=o(e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(t=!this.visible){this.toggle$.next(t),this.parent?.toggle(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],features:[m([St(e),Gt]),z]})}}return e})(),be=8,Ce=24,v=0,D=1,rn=(()=>{class e extends q{constructor(){super(...arguments),this.offset=o(ue)?16:8,this.viewport=o(Wt),this.accessor=$t("hint")(o($),o(sn)),this.points=nn.reduce((t,i)=>mt(ft({},t),{[i]:[0,0]}),{}),this.direction=o(Qt).direction,this.directionChange=new Lt,this.type="hint"}emitDirection(t){this.directionChange.emit(t)}getPosition(t,i){let n=i?.clientWidth??t.width,r=i?.clientHeight??t.height,c=this.accessor.getClientRect()??nt,l=c.left+c.width/2,w=c.top+c.height/2;this.points["top-left"][v]=c.top-r-this.offset,this.points["top-left"][D]=l-n+Ce,this.points.top[v]=this.points["top-left"][v],this.points.top[D]=l-n/2,this.points["top-right"][v]=this.points["top-left"][v],this.points["top-right"][D]=l-Ce,this.points["bottom-left"][v]=c.bottom+this.offset,this.points["bottom-left"][D]=this.points["top-left"][D],this.points.bottom[v]=this.points["bottom-left"][v],this.points.bottom[D]=this.points.top[D],this.points["bottom-right"][v]=this.points["bottom-left"][v],this.points["bottom-right"][D]=this.points["top-right"][D],this.points["left-top"][v]=w-r+Ce,this.points["left-top"][D]=c.left-n-this.offset,this.points.left[v]=w-r/2,this.points.left[D]=this.points["left-top"][D],this.points["left-bottom"][v]=w-Ce,this.points["left-bottom"][D]=this.points["left-top"][D],this.points["right-top"][v]=this.points["left-top"][v],this.points["right-top"][D]=c.right+this.offset,this.points.right[v]=this.points.left[v],this.points.right[D]=this.points["right-top"][D],this.points["right-bottom"][v]=this.points["left-bottom"][v],this.points["right-bottom"][D]=this.points["right-top"][D];let p=(Array.isArray(this.direction)?this.direction:[this.direction]).concat(nn).find(f=>this.checkPosition(this.points[f],n,r))||this.fallback;return this.emitDirection(p),this.points[p]}get fallback(){return this.points.top[v]>this.viewport.getClientRect().bottom-this.points.bottom[v]?"top":"bottom"}checkPosition([t,i],n,r){let c=this.viewport.getClientRect();return t>c.top+be&&i>c.left+be&&t+r<c.bottom-be&&i+n<c.right-be}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275dir=a({type:e,inputs:{direction:[0,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[z]})}}return I([P],e.prototype,"emitDirection",null),e})(),sn=(()=>{class e{constructor(){this.service=o(on),this.appearance=o(Qt).appearance,this.content=R(null),this.component=o(It),this.el=h(),this.activeZone=o(U,{optional:!0}),this.type="hint"}set tuiHint(t){this.content.set(t),t||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(t){t&&this.content()?this.service.add(this):this.service.remove(this)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},features:[m([jt(e),ge(e),{provide:It,deps:[to,Dt],useClass:It}]),at([eo,{directive:ti,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:rn,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]})}}return e})(),no=(()=>{class e extends ti{constructor(){super(...arguments),this.currentRect=nt}getClientRect(){return this.currentRect}onMove({clientX:t,clientY:i}){this.currentRect=Ze(t,i)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=b(e)))(n||e)}})()}static{this.\u0275dir=a({type:e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(i,n){i&1&&k("mousemove.zoneless",function(c){return n.onMove(c)})},features:[m([jt(e),St(e)]),z]})}}return e})(),oo=(()=>{class e{constructor(){this.context=Ue()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostVars:1,hostBindings:function(i,n){i&2&&Bt("@tuiParentAnimation",void 0)},decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(i,n){i&1&&E(0,Qn,1,0,"ng-container",0),i&2&&C("polymorpheusOutlet",n.context.$implicit.content())},dependencies:[Ht],encapsulation:2,data:{animation:[Ae]},changeDetection:0})}}return e})();var ro=[Ft,Gt,me("hint",rn),ve("hint",sn)],Oe=8,so=(()=>{class e{constructor(){this.el=h(),this.hover=o(ti),this.vvs=o(De),this.viewport=o(Wt),this.desktop={value:"",params:{end:1,start:1}},this.options=Mt(o(Tt),"cubic-bezier(0.35, 1.3, 0.25, 1)"),this.pointer=o(no,{optional:!0}),this.accessor=o($),this.hint=Ue().$implicit,this.isMobile=o(ue),this.content=this.hint.component.component===oo?R(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),o(Ft).pipe(Kt(()=>this.hint.el.isConnected),u(t=>this.vvs.correct(t)),T()).subscribe({next:([t,i])=>this.update(t,i),complete:()=>this.hover.toggle(!1)}),o(Gt).pipe(T()).subscribe(t=>this.hover.toggle(t))}onClick(t){(!t.closest("tui-hint")&&!this.hint.el.contains(t)||We(this.hint.el))&&this.hover.toggle(!1)}apply(t,i,n,r){this.el.style.top=t,this.el.style.left=i,this.el.style.setProperty("--t-top",`${n}%`),this.el.style.setProperty("--t-left",`${r}%`),this.el.style.setProperty("--t-rotate",!r||Math.ceil(r)===100?"90deg":"0deg")}update(t,i){let{clientHeight:n,clientWidth:r}=this.el,c=this.accessor.getClientRect();if(c===nt||!n||!r)return;let l=this.viewport.getClientRect(),w=Ct(Math.max(Oe,i),l.left+Oe,Math.max(Oe,l.width+l.left-r-Oe)),[g,O]=this.vvs.correct([c.top+c.height/2-t,c.left+c.width/2-w]);this.apply(W(Math.round(t)),W(Math.round(w)),Math.round(Ct(g,0,n)/n*100),Math.round(Ct(O,0,r)/r*100))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["tui-hint"]],hostVars:8,hostBindings:function(i,n){i&1&&k("click",function(c){return n.onClick(c.target)},!1,ct),i&2&&(Bt("@tuiScaleIn",n.isMobile?n.options:n.desktop)("@tuiFadeIn",n.options),Xt("data-appearance",n.appearance)("tuiTheme",n.appearance==="dark"?"light":null),it("_untouchable",n.pointer)("_mobile",n.isMobile))},features:[m(ro)],ngContentSelectors:Yn,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(i,n){i&1&&(qt(),Jt(0),E(1,Kn,1,1,"span",0)),i&2&&(B(),C("polymorpheusOutlet",n.content())("polymorpheusOutletContext",n.hint.context))},dependencies:[Ht],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(18rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top)}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-elevation-1);color:var(--tui-text-primary);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}`],data:{animation:[oe,Oi]},changeDetection:0})}}return I([P],e.prototype,"apply",null),e})(),Dc=(()=>{class e extends ot{constructor(){super(t=>this.stream$.subscribe(t)),this.doc=o(ne),this.el=h(),this.zone=o(et),this.id$=new Et(""),this.stream$=this.id$.pipe(y(),ae(()=>xt(this.doc,"keydown",{capture:!0}),Mi),j(()=>this.focused?N(!1):_(H(this.doc,"keyup"),H(this.element,"blur")).pipe(u(()=>this.focused))),oi(t=>t?_e(1e3,Y(this.zone)):N(null)),M(!1),y(),Yt(1),S()),this.type="hint"}set tuiHintDescribe(t){this.id$.next(t||"")}get element(){return this.doc.getElementById(this.id$.value||"")||this.el}get focused(){return Ni(this.element)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=a({type:e,selectors:[["","tuiHintDescribe",""]],inputs:{tuiHintDescribe:"tuiHintDescribe"},features:[m([St(e)]),z]})}}return I([P],e.prototype,"element",null),e})();var wc=(()=>{class e{constructor(){this.hints$=o(on),this.destroyRef=o(kt),this.cdr=o(bt),this.hints=[]}ngOnInit(){this.hints$.pipe(T(this.destroyRef)).subscribe(t=>{this.hints=t,this.cdr.detectChanges()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Z({type:e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(i,n){i&1&&E(0,Jn,2,6,"div",0),i&2&&C("ngForOf",n.hints)},dependencies:[Di,Ht,U],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"],data:{animation:[Ae]}})}}return e})();export{Ro as a,ji as b,Dn as c,Vi as d,Ho as e,So as f,_r as g,Ye as h,Ko as i,Ki as j,he as k,Xi as l,Wn as m,Vt as n,$n as o,qe as p,Ss as q,Fs as r,Es as s,xs as t,Ps as u,As as v,Qt as w,yc as x,ti as y,sn as z,Dc as A,wc as B};
